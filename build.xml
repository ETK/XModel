<project name="XModel" default="jar" basedir=".">
  
  <!-- set global properties for this build -->
  <property name="src" location="src"/>
  <property name="bin" location="bin"/>
  <property name="jars" location="jars"/>
  <property name="xmodelui-plugin-jars" location="../XMPlugin/jars"/>

  <target name="init">
    <tstamp/>
    <delete file="${jars}/xmodel.jar"/>
  </target>

  <target name="jar" depends="init" description="build jar file">
    <mkdir dir="${jars}"/>
    <jar destfile="${jars}/xmodel.jar">
      <fileset dir="${bin}"/>
      <fileset dir="${src}" includes="**/*.java"/>
    </jar> 
    <copy file="${jars}/xmodel.jar" tofile="${xmodelui-plugin-jars}/xmodel.jar"/>
    <!-- copy file="${jars}/xmodel.jar" tofile="${jars}/xmodel-${DSTAMP}-${TSTAMP}.jar"/ -->
  </target>
	
  <target name="javadoc">
    <javadoc access="package" author="true" classpath="jars/jdom.jar;jars/junit.jar" destdir="doc" doctitle="XModel 1.0" nodeprecated="false" nodeprecatedlist="false" noindex="false" nonavbar="false" notree="false" packagenames="dunnagan.bob.xmodel.xpath.function,dunnagan.bob.xmodel.dependency,dunnagan.bob.xmodel.external,dunnagan.bob.xmodel.index,dunnagan.bob.xmodel.path,dunnagan.bob.xmodel.xpath,dunnagan.bob.xmodel.util,dunnagan.bob.xmodel.diff,dunnagan.bob.xmodel.xml,dunnagan.bob.xmodel.xpath.expression,dunnagan.bob.xmodel.memento,dunnagan.bob.xmodel.record,dunnagan.bob.xmodel.listeners" source="1.5" sourcefiles="src/dunnagan/bob/xmodel/IModel.java,src/dunnagan/bob/xmodel/CanonicalPath.java,src/dunnagan/bob/xmodel/IBoundChangeRecord.java,src/dunnagan/bob/xmodel/Update.java,src/dunnagan/bob/xmodel/ModelObject.java,src/dunnagan/bob/xmodel/ModelLeafIterator.java,src/dunnagan/bob/xmodel/ModelObjectFactory.java,src/dunnagan/bob/xmodel/BreadthFirstIterator.java,src/dunnagan/bob/xmodel/PathSyntaxException.java,src/dunnagan/bob/xmodel/ModelListener.java,src/dunnagan/bob/xmodel/PathListenerList.java,src/dunnagan/bob/xmodel/IModelRegistry.java,src/dunnagan/bob/xmodel/Model.java,src/dunnagan/bob/xmodel/IModelObjectFactory.java,src/dunnagan/bob/xmodel/DepthFirstIterator.java,src/dunnagan/bob/xmodel/IPath.java,src/dunnagan/bob/xmodel/IAxis.java,src/dunnagan/bob/xmodel/Reference.java,src/dunnagan/bob/xmodel/IAncestorListener.java,src/dunnagan/bob/xmodel/ModelRegistry.java,src/dunnagan/bob/xmodel/ModelListenerList.java,src/dunnagan/bob/xmodel/IChangeSet.java,src/dunnagan/bob/xmodel/ChangeSet.java,src/dunnagan/bob/xmodel/Xlate.java,src/dunnagan/bob/xmodel/IModelPrinter.java,src/dunnagan/bob/xmodel/IIndexSpec.java,src/dunnagan/bob/xmodel/AbstractPath.java,src/dunnagan/bob/xmodel/IPathIndexVisitor.java,src/dunnagan/bob/xmodel/ModelAlgorithms.java,src/dunnagan/bob/xmodel/IPredicate.java,src/dunnagan/bob/xmodel/IIndex.java,src/dunnagan/bob/xmodel/IModelObject.java,src/dunnagan/bob/xmodel/IModelListener.java,src/dunnagan/bob/xmodel/IPathElement.java,src/dunnagan/bob/xmodel/IChangeRecord.java,src/dunnagan/bob/xmodel/IPathListener.java" sourcepath="src;_generated" splitindex="true" use="true" version="true">
      <link href="http://java.sun.com/j2se/1.5.0/docs/api"/>
    </javadoc>
  </target>
	
  <target name="clean" description="clean up">
    <delete file="${jars}/xmodel.jar"/>
  </target>
</project>